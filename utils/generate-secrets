#!/bin/bash 

mkdir -p /etc/openstack

# Create general config file, with auto-generated secrets
# This is idempotent (we won't overwrite existsing passwords)
FILE=/etc/openstack/openstack.conf

touch ${FILE}

for k in swift_hash_path_suffix imagestore_db_password compute_db_password identity_db_password rabbitmq_password identity_service_token compute_service_password imagestore_service_password objectstore_service_password
do
	utils/openstack-config-get --create ${FILE} secrets ${k} > /dev/null
done
 
